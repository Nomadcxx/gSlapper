{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"gSlapper Documentation","text":"<p>gSlapper is a high-performance wallpaper manager for Wayland that combines the best of swww and mpvpaper. It uses GStreamer instead of libmpv, providing faster performance, better efficiency, and fixes memory leaks on NVIDIA Wayland systems while offering superior multi-monitor support.</p>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Installation - Get gSlapper installed on your system</li> <li>Quick Start - Get up and running in minutes</li> <li>Getting Started Guide - Setup and configuration</li> <li>User Guide - Complete tutorial and features</li> <li>Advanced Topics - Prerequisites and advanced features</li> <li>Systemd Service - Automatic wallpaper restoration</li> <li>Troubleshooting - Common issues and solutions</li> </ul>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Video Wallpapers - Plays MP4, MKV, WebM, and other video formats</li> <li>Static Images - Supports JPEG, PNG, WebP, and GIF</li> <li>Fade Transitions - Smooth transitions between wallpapers</li> <li>Multi-Monitor - Works with multiple displays independently</li> <li>IPC Control - Change wallpapers at runtime via Unix socket</li> <li>Scaling Modes - Choose between fill, stretch, original, and panscan</li> <li>Wayland Native - Built for wlroots compositors like Hyprland and Sway</li> </ul>"},{"location":"#why-gstreamer","title":"Why GStreamer?","text":"<p>gSlapper replaces libmpv with GStreamer to solve memory leaks on NVIDIA Wayland systems, improve GPU resource management, and provide more reliable multi-monitor support. GStreamer offers mature Wayland/EGL integration and proper hardware acceleration.</p>"},{"location":"#license","title":"License","text":"<p>MIT License - see LICENSE</p>"},{"location":"#acknowledgments","title":"Acknowledgments","text":"<ul> <li>mpvpaper - Original inspiration</li> <li>swww - Static wallpaper inspiration</li> <li>GStreamer - Multimedia framework</li> <li>Clapper - GStreamer integration patterns</li> </ul>"},{"location":"systemd-service/","title":"Systemd Service Setup","text":""},{"location":"systemd-service/#overview","title":"Overview","text":"<p>gSlapper can run as a systemd user service for automatic wallpaper management at login.</p>"},{"location":"systemd-service/#installation","title":"Installation","text":"<p>The service is installed automatically via the AUR package to: <pre><code>/usr/lib/systemd/user/gslapper.service\n</code></pre></p>"},{"location":"systemd-service/#configuration","title":"Configuration","text":""},{"location":"systemd-service/#1-create-environment-file","title":"1. Create Environment File","text":"<p>Required: Create <code>~/.config/gslapper/environment</code> with your Wayland display socket:</p> <pre><code>mkdir -p ~/.config/gslapper\necho \"WAYLAND_DISPLAY=$WAYLAND_DISPLAY\" &gt; ~/.config/gslapper/environment\n</code></pre> <p>Finding your WAYLAND_DISPLAY:</p> <pre><code># In your Wayland session, run:\necho $WAYLAND_DISPLAY\n# Common values: wayland-0, wayland-1\n</code></pre> <p>Example environment file:</p> <pre><code># ~/.config/gslapper/environment\nWAYLAND_DISPLAY=wayland-1\n</code></pre>"},{"location":"systemd-service/#2-set-initial-wallpaper","title":"2. Set Initial Wallpaper","text":"<p>Start gSlapper manually once to set your wallpaper:</p> <pre><code>gslapper -o \"loop\" DP-1 /path/to/video.mp4\n# or\ngslapper -o \"fill\" DP-1 /path/to/image.jpg\n</code></pre> <p>Stop it with Ctrl+C. The state is saved automatically.</p>"},{"location":"systemd-service/#usage","title":"Usage","text":""},{"location":"systemd-service/#enable-and-start-service","title":"Enable and Start Service","text":"<pre><code># Enable service to start at login\nsystemctl --user enable gslapper.service\n\n# Start service now\nsystemctl --user start gslapper.service\n\n# Check status\nsystemctl --user status gslapper.service\n</code></pre>"},{"location":"systemd-service/#service-commands","title":"Service Commands","text":"<pre><code># Reload (saves state, restarts)\nsystemctl --user reload gslapper.service\n\n# Restart (saves state, restarts)\nsystemctl --user restart gslapper.service\n\n# Stop\nsystemctl --user stop gslapper.service\n\n# Disable autostart\nsystemctl --user disable gslapper.service\n\n# View logs\njournalctl --user -u gslapper.service -f\n</code></pre>"},{"location":"systemd-service/#how-it-works","title":"How It Works","text":"<ol> <li>Service starts with <code>--systemd --restore</code> flags</li> <li>Restores state from <code>~/.local/state/gslapper/&lt;output&gt;.state.txt</code></li> <li>Resumes wallpaper at saved position (videos) or shows saved image</li> <li>On reload/stop saves current state automatically</li> <li>On restart restores from saved state</li> </ol>"},{"location":"systemd-service/#state-management","title":"State Management","text":""},{"location":"systemd-service/#state-files","title":"State Files","text":"<p>Per-monitor state files are saved to: <pre><code>~/.local/state/gslapper/DP-1.state.txt\n~/.local/state/gslapper/DP-3.state.txt\n</code></pre></p>"},{"location":"systemd-service/#state-contents","title":"State Contents","text":"<pre><code>version=1\noutput=DP-1\npath=/home/user/Videos/wallpaper.mp4\nis_image=false\noptions=loop\nposition=45.230000\npaused=false\n</code></pre>"},{"location":"systemd-service/#manual-state-management","title":"Manual State Management","text":"<pre><code># Save current state manually\ngslapper --save-state\n\n# Restore from state\ngslapper --restore\n\n# Use custom state file\ngslapper --state-file /tmp/my-state.txt --restore\n\n# Disable auto-save on exit\ngslapper --no-save-state\n</code></pre>"},{"location":"systemd-service/#troubleshooting","title":"Troubleshooting","text":""},{"location":"systemd-service/#service-fails-to-start","title":"Service fails to start","text":"<p>Check logs: <pre><code>journalctl --user -u gslapper.service -n 50\n</code></pre></p> <p>Common issues:</p> <ol> <li> <p>Missing environment file: <pre><code>Error: Unable to connect to compositor\n</code></pre>    Solution: Create <code>~/.config/gslapper/environment</code> with correct <code>WAYLAND_DISPLAY</code></p> </li> <li> <p>Wrong WAYLAND_DISPLAY: <pre><code>Error: Unable to connect to compositor\n</code></pre>    Solution: Check <code>echo $WAYLAND_DISPLAY</code> in your session and update environment file</p> </li> <li> <p>No state file:    Service uses <code>--restore</code> but no state exists - it will fail gracefully and exit</p> </li> </ol>"},{"location":"systemd-service/#service-starts-but-no-wallpaper","title":"Service starts but no wallpaper","text":"<ul> <li>Verify state file exists: <code>ls -la ~/.local/state/gslapper/</code></li> <li>Check state file contents: <code>cat ~/.local/state/gslapper/&lt;output&gt;.state.txt</code></li> <li>Verify video/image path in state file still exists</li> <li>Check service logs for errors</li> </ul>"},{"location":"systemd-service/#state-not-persisting","title":"State not persisting","text":"<ul> <li>Verify directory is writable: <code>ls -ld ~/.local/state/gslapper/</code></li> <li>Check for disk space: <code>df -h ~</code></li> <li>Review logs for save errors: <code>journalctl --user -u gslapper.service | grep state</code></li> </ul>"},{"location":"systemd-service/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"systemd-service/#resource-limits","title":"Resource Limits","text":"<p>The service has default resource limits: - Memory: 512MB max - CPU: 50% of one core</p> <p>To customize, create override:</p> <pre><code>systemctl --user edit gslapper.service\n</code></pre> <p>Add: <pre><code>[Service]\nMemoryMax=1G\nCPUQuota=100%\n</code></pre></p>"},{"location":"systemd-service/#security-hardening","title":"Security Hardening","text":"<p>Default security settings: - <code>NoNewPrivileges=true</code> - Prevents privilege escalation - <code>PrivateTmp=true</code> - Private /tmp directory</p>"},{"location":"systemd-service/#multiple-monitors","title":"Multiple Monitors","text":"<p>To run separate instances per monitor:</p> <pre><code># Disable the main service\nsystemctl --user disable gslapper.service\n\n# Create instance services\ncp /usr/lib/systemd/user/gslapper.service ~/.config/systemd/user/gslapper@.service\n</code></pre> <p>Edit <code>gslapper@.service</code>: <pre><code>ExecStart=/usr/bin/gslapper --systemd --restore --state-file %h/.local/state/gslapper/%i.state.txt\n</code></pre></p> <p>Enable per monitor: <pre><code>systemctl --user enable gslapper@DP-1.service\nsystemctl --user enable gslapper@DP-3.service\n</code></pre></p>"},{"location":"systemd-service/#integration-with-ipc","title":"Integration with IPC","text":"<p>The service can be controlled via IPC socket:</p> <pre><code># Start service with IPC\n# (Edit service to add --ipc-socket flag)\nsystemctl --user edit gslapper.service\n</code></pre> <p>Add: <pre><code>[Service]\nExecStart=\nExecStart=/usr/bin/gslapper --systemd --restore --ipc-socket /run/user/%U/gslapper.sock\n</code></pre></p> <p>Reload and use: <pre><code>systemctl --user daemon-reload\nsystemctl --user restart gslapper.service\n\n# Control via IPC\necho \"pause\" | nc -U /run/user/$UID/gslapper.sock\necho \"resume\" | nc -U /run/user/$UID/gslapper.sock\n</code></pre></p>"},{"location":"advanced/","title":"Advanced Topics","text":"<p>Advanced usage and configuration options for gSlapper.</p>"},{"location":"advanced/#before-you-start","title":"Before You Start","text":"<p>To use advanced features like transitions, IPC control, and multi-monitor setups, ensure you have:</p> <ul> <li>gSlapper installed on your system</li> <li>Wayland compositor running (Hyprland, Sway, etc.)</li> <li>Unix domain socket support in your compositor (for IPC)</li> </ul>"},{"location":"advanced/#advanced-topics_1","title":"Advanced Topics","text":"<ul> <li>Transitions - Smooth wallpaper transitions</li> <li>Multi-Monitor Setup - Independent display control</li> <li>Performance Tuning - Optimize GPU usage</li> <li>Troubleshooting - Common issues and solutions</li> </ul>"},{"location":"advanced/multi-monitor/","title":"Multi-Monitor Setup","text":"<p>gSlapper provides full support for multiple displays, allowing you to set different wallpapers on each monitor or use the same wallpaper across all displays.</p>"},{"location":"advanced/multi-monitor/#listing-available-monitors","title":"Listing Available Monitors","text":"<p>Use the <code>-d</code> or <code>--help-output</code> option to list all available monitors:</p> <pre><code>gslapper -d\n</code></pre> <p>Output example: <pre><code>[*] Output: eDP-1  Identifier: InfoVision Optoelectronics\n[*] Output: DP-1   Identifier: Dell Inc. DELL U2718Q\n[*] Output: HDMI-1 Identifier: Samsung Electronics\n</code></pre></p>"},{"location":"advanced/multi-monitor/#single-monitor","title":"Single Monitor","text":"<p>Set wallpaper on a specific monitor:</p> <pre><code># By name\ngslapper DP-1 /path/to/video.mp4\n\n# By identifier (if name doesn't work)\ngslapper \"Dell Inc. DELL U2718Q\" /path/to/video.mp4\n</code></pre>"},{"location":"advanced/multi-monitor/#all-monitors","title":"All Monitors","text":"<p>Use <code>'*'</code> to set the same wallpaper on all monitors:</p> <pre><code>gslapper -o \"loop\" '*' /path/to/video.mp4\n</code></pre>"},{"location":"advanced/multi-monitor/#different-wallpapers-per-monitor","title":"Different Wallpapers per Monitor","text":"<p>Run multiple instances, one per monitor:</p> <pre><code># Monitor 1\ngslapper -f -o \"loop\" DP-1 /path/to/video1.mp4 &amp;\n\n# Monitor 2\ngslapper -f -o \"loop\" HDMI-1 /path/to/video2.mp4 &amp;\n\n# Monitor 3\ngslapper -f -o \"loop\" eDP-1 /path/to/image.jpg &amp;\n</code></pre>"},{"location":"advanced/multi-monitor/#ipc-control-per-monitor","title":"IPC Control per Monitor","text":"<p>Each monitor can have its own IPC socket:</p> <pre><code># Monitor 1 with IPC\ngslapper -I /tmp/gslapper-dp1.sock -o \"loop\" DP-1 video1.mp4 &amp;\n\n# Monitor 2 with IPC\ngslapper -I /tmp/gslapper-hdmi1.sock -o \"loop\" HDMI-1 video2.mp4 &amp;\n\n# Control each independently\necho \"pause\" | nc -U /tmp/gslapper-dp1.sock\necho \"change /path/to/new.mp4\" | nc -U /tmp/gslapper-hdmi1.sock\n</code></pre>"},{"location":"advanced/multi-monitor/#display-scaling","title":"Display Scaling","text":"<p>gSlapper automatically handles display scaling. Each monitor's scale factor is detected and applied correctly.</p>"},{"location":"advanced/multi-monitor/#best-practices","title":"Best Practices","text":"<ol> <li>Use background mode - Add <code>-f</code> flag when running multiple instances</li> <li>Unique IPC sockets - Use different socket paths for each monitor</li> <li>Resource management - Multiple video wallpapers use more GPU/CPU resources</li> <li>Startup scripts - Use systemd user services or shell scripts to manage multiple instances</li> </ol>"},{"location":"advanced/multi-monitor/#example-startup-script","title":"Example Startup Script","text":"<pre><code>#!/bin/bash\n# ~/.local/bin/start-wallpapers.sh\n\n# Kill existing instances\npkill gslapper\n\n# Wait a moment\nsleep 1\n\n# Start wallpapers for each monitor\ngslapper -f -I /tmp/gslapper-dp1.sock -o \"loop\" DP-1 ~/Videos/wallpaper1.mp4 &amp;\nsleep 0.5\n\ngslapper -f -I /tmp/gslapper-hdmi1.sock -o \"loop\" HDMI-1 ~/Videos/wallpaper2.mp4 &amp;\nsleep 0.5\n\ngslapper -f -I /tmp/gslapper-edp1.sock -o \"fill\" eDP-1 ~/Pictures/wallpaper.jpg &amp;\n</code></pre>"},{"location":"advanced/multi-monitor/#systemd-user-service","title":"Systemd User Service","text":"<p>Create <code>~/.config/systemd/user/wallpapers.service</code>:</p> <pre><code>[Unit]\nDescription=Wallpapers for all monitors\nAfter=graphical-session.target\n\n[Service]\nType=forking\nExecStart=/home/user/.local/bin/start-wallpapers.sh\nExecStop=/usr/bin/pkill gslapper\nRestart=on-failure\n\n[Install]\nWantedBy=default.target\n</code></pre> <p>Enable and start: <pre><code>systemctl --user enable wallpapers.service\nsystemctl --user start wallpapers.service\n</code></pre></p>"},{"location":"advanced/performance/","title":"Performance Tuning","text":"<p>gSlapper is designed to be efficient, but there are several options to optimize performance for your system.</p>"},{"location":"advanced/performance/#frame-rate-control","title":"Frame Rate Control","text":""},{"location":"advanced/performance/#frame-rate-cap","title":"Frame Rate Cap","text":"<p>Control the maximum frame rate to reduce GPU/CPU usage:</p> <pre><code>gslapper --fps-cap 30 -o \"loop\" DP-1 video.mp4\n</code></pre> <p>Available options: - <code>30</code> - 30 FPS (default, good balance) - <code>60</code> - 60 FPS (smoother, more resource intensive) - <code>100</code> - 100 FPS (maximum smoothness)</p>"},{"location":"advanced/performance/#when-to-adjust","title":"When to Adjust","text":"<ul> <li>Lower FPS (30): Older hardware, battery-powered devices, multiple monitors</li> <li>Higher FPS (60-100): High-end GPUs, single monitor, smooth video playback</li> </ul>"},{"location":"advanced/performance/#auto-pausestop","title":"Auto-Pause/Stop","text":"<p>Reduce resource usage when wallpapers are hidden:</p>"},{"location":"advanced/performance/#auto-pause","title":"Auto-Pause","text":"<p>Pauses playback when certain applications are fullscreen:</p> <pre><code>gslapper -p -o \"loop\" DP-1 video.mp4\n</code></pre> <p>Configure apps in <code>~/.config/mpvpaper/pauselist</code>: <pre><code>firefox\nchromium\nmpv\nvlc\n</code></pre></p>"},{"location":"advanced/performance/#auto-stop","title":"Auto-Stop","text":"<p>Completely stops playback when wallpaper is hidden:</p> <pre><code>gslapper -s -o \"loop\" DP-1 video.mp4\n</code></pre> <p>Configure apps in <code>~/.config/mpvpaper/stoplist</code>: <pre><code>games\n</code></pre></p>"},{"location":"advanced/performance/#video-optimization","title":"Video Optimization","text":""},{"location":"advanced/performance/#codec-selection","title":"Codec Selection","text":"<p>Use hardware-accelerated codecs when available:</p> <ul> <li>H.264 - Widely supported, good performance</li> <li>H.265/HEVC - Better compression, requires more processing</li> <li>VP9 - Open format, good compression</li> </ul>"},{"location":"advanced/performance/#video-resolution","title":"Video Resolution","text":"<p>Lower resolution videos use fewer resources:</p> <pre><code># Use 1080p instead of 4K for better performance\ngslapper -o \"loop\" DP-1 video_1080p.mp4\n</code></pre>"},{"location":"advanced/performance/#image-optimization","title":"Image Optimization","text":""},{"location":"advanced/performance/#static-images","title":"Static Images","text":"<p>Static images are very efficient. For best performance:</p> <ul> <li>Use appropriate resolution (don't use 8K images on 1080p displays)</li> <li>Prefer JPEG for photos (smaller file size)</li> <li>Use PNG only when transparency is needed</li> </ul>"},{"location":"advanced/performance/#transitions","title":"Transitions","text":"<p>Transitions add some CPU overhead:</p> <ul> <li>Shorter durations (0.5-1.0s) use fewer resources</li> <li>Longer durations (3.0s+) are smoother but use more CPU</li> <li>Disable transitions if performance is critical</li> </ul>"},{"location":"advanced/performance/#multi-monitor-performance","title":"Multi-Monitor Performance","text":"<p>Running multiple instances uses more resources:</p>"},{"location":"advanced/performance/#tips","title":"Tips","text":"<ol> <li>Mix static and video - Use static images on secondary monitors</li> <li>Lower FPS on secondary - Use <code>--fps-cap 30</code> on non-primary monitors</li> <li>Use auto-pause - Pause wallpapers when not visible</li> </ol> <pre><code># Primary monitor: 60 FPS video\ngslapper --fps-cap 60 -o \"loop\" DP-1 video.mp4 &amp;\n\n# Secondary monitor: 30 FPS video\ngslapper --fps-cap 30 -o \"loop\" HDMI-1 video2.mp4 &amp;\n\n# Tertiary monitor: Static image (most efficient)\ngslapper -o \"fill\" eDP-1 image.jpg &amp;\n</code></pre>"},{"location":"advanced/performance/#gpu-acceleration","title":"GPU Acceleration","text":"<p>gSlapper uses GStreamer's hardware acceleration when available:</p>"},{"location":"advanced/performance/#nvidia","title":"NVIDIA","text":"<p>Ensure proper drivers and GStreamer plugins: <pre><code># Arch Linux\nsudo pacman -S gst-plugins-bad gst-plugins-ugly\n\n# Verify hardware acceleration\ngst-inspect-1.0 nvdec\n</code></pre></p>"},{"location":"advanced/performance/#amdintel","title":"AMD/Intel","text":"<p>Hardware acceleration is typically automatic with Mesa drivers.</p>"},{"location":"advanced/performance/#memory-usage","title":"Memory Usage","text":""},{"location":"advanced/performance/#video-wallpapers","title":"Video Wallpapers","text":"<ul> <li>Memory usage depends on video resolution and codec</li> <li>1080p videos: ~50-100 MB</li> <li>4K videos: ~200-400 MB</li> </ul>"},{"location":"advanced/performance/#static-images_1","title":"Static Images","text":"<ul> <li>Very low memory usage</li> <li>Typically &lt; 50 MB regardless of image size</li> </ul>"},{"location":"advanced/performance/#monitoring-performance","title":"Monitoring Performance","text":""},{"location":"advanced/performance/#verbose-output","title":"Verbose Output","text":"<p>Use verbose mode to see performance information:</p> <pre><code>gslapper -vv -o \"loop\" DP-1 video.mp4\n</code></pre> <p>Look for: - Frame processing times - Texture allocation messages - Pipeline state changes</p>"},{"location":"advanced/performance/#system-monitoring","title":"System Monitoring","text":"<p>Monitor resource usage:</p> <pre><code># CPU and memory\nhtop\n\n# GPU usage (NVIDIA)\nnvidia-smi -l 1\n\n# GPU usage (AMD/Intel)\nradeontop  # or intel_gpu_top\n</code></pre>"},{"location":"advanced/performance/#troubleshooting-performance-issues","title":"Troubleshooting Performance Issues","text":""},{"location":"advanced/performance/#high-cpu-usage","title":"High CPU Usage","text":"<ol> <li>Lower frame rate cap: <code>--fps-cap 30</code></li> <li>Use auto-pause: <code>-p</code></li> <li>Reduce video resolution</li> <li>Disable transitions</li> </ol>"},{"location":"advanced/performance/#high-memory-usage","title":"High Memory Usage","text":"<ol> <li>Use static images instead of videos</li> <li>Lower video resolution</li> <li>Check for memory leaks (restart periodically)</li> </ol>"},{"location":"advanced/performance/#stutteringframe-drops","title":"Stuttering/Frame Drops","text":"<ol> <li>Lower frame rate cap</li> <li>Check GPU drivers are up to date</li> <li>Ensure hardware acceleration is working</li> <li>Close other GPU-intensive applications</li> </ol>"},{"location":"advanced/transitions/","title":"Transitions","text":"<p>gSlapper supports smooth fade transitions between static images, providing a polished wallpaper switching experience.</p>"},{"location":"advanced/transitions/#enabling-transitions","title":"Enabling Transitions","text":"<p>Transitions are enabled via command-line options:</p> <pre><code>gslapper --transition-type fade --transition-duration 2.0 -I /tmp/gslapper.sock DP-1 image.jpg\n</code></pre>"},{"location":"advanced/transitions/#options","title":"Options","text":"<ul> <li><code>--transition-type TYPE</code> - Transition effect type</li> <li><code>none</code> (default) - No transition</li> <li> <p><code>fade</code> - Smooth fade between images</p> </li> <li> <p><code>--transition-duration SECS</code> - Transition duration in seconds (default: 0.5)</p> </li> </ul>"},{"location":"advanced/transitions/#requirements","title":"Requirements","text":"<ul> <li>IPC must be enabled - Transitions require the <code>-I</code> or <code>--ipc-socket</code> option</li> <li>Static images only - Transitions work between images, not videos</li> <li>Same or different aspect ratios - Both images will correctly fill the screen</li> </ul>"},{"location":"advanced/transitions/#usage","title":"Usage","text":""},{"location":"advanced/transitions/#basic-fade-transition","title":"Basic Fade Transition","text":"<pre><code># Start with first image\ngslapper --transition-type fade --transition-duration 2.0 -I /tmp/gslapper.sock DP-1 image1.jpg\n\n# Switch to second image (transition happens automatically)\necho \"change /path/to/image2.jpg\" | nc -U /tmp/gslapper.sock\n</code></pre>"},{"location":"advanced/transitions/#different-aspect-ratios","title":"Different Aspect Ratios","text":"<p>Transitions handle images with different aspect ratios correctly:</p> <pre><code># 4:3 image -&gt; 16:9 image\ngslapper --transition-type fade --transition-duration 1.5 -I /tmp/gslapper.sock DP-1 4x3_image.jpg\necho \"change /path/to/16x9_image.jpg\" | nc -U /tmp/gslapper.sock\n</code></pre> <p>Both images will fill the screen properly during the transition, with no letterboxing.</p>"},{"location":"advanced/transitions/#how-it-works","title":"How It Works","text":"<ol> <li>Capture - When a transition starts, the current image is captured</li> <li>Load - The new image is loaded asynchronously</li> <li>Resize - Both images are resized to display resolution with fill mode</li> <li>Blend - Images are blended pixel-by-pixel using CPU-based alpha blending</li> <li>Complete - Transition completes when duration is reached</li> </ol>"},{"location":"advanced/transitions/#supported-formats","title":"Supported Formats","text":"<p>Transitions work with all supported image formats: - JPEG (.jpg, .jpeg) - PNG (.png) - WebP (.webp) - GIF (.gif) - First frame only</p>"},{"location":"advanced/transitions/#performance","title":"Performance","text":"<ul> <li>CPU-based blending - Uses efficient pixel blending similar to swww</li> <li>Display resolution - Blends at logical display resolution for optimal performance</li> <li>Smooth animation - Frame rate capped to ensure smooth transitions</li> </ul>"},{"location":"advanced/transitions/#limitations","title":"Limitations","text":"<ul> <li>Transitions only work between static images</li> <li>Video wallpapers do not support transitions</li> <li>IPC socket must be enabled</li> <li>Rapid transitions (multiple changes in quick succession) may cancel previous transitions</li> </ul>"},{"location":"advanced/transitions/#examples","title":"Examples","text":""},{"location":"advanced/transitions/#slideshow-script","title":"Slideshow Script","text":"<pre><code>#!/bin/bash\nSOCKET=\"/tmp/gslapper.sock\"\nIMAGES=(\n    \"/path/to/image1.jpg\"\n    \"/path/to/image2.png\"\n    \"/path/to/image3.webp\"\n)\n\n# Start with first image\ngslapper --transition-type fade --transition-duration 2.0 -I \"$SOCKET\" DP-1 \"${IMAGES[0]}\" &amp;\nsleep 3\n\n# Cycle through images\nfor img in \"${IMAGES[@]:1}\"; do\n    echo \"change $img\" | nc -U \"$SOCKET\"\n    sleep 3\ndone\n</code></pre>"},{"location":"advanced/transitions/#random-wallpaper-with-transition","title":"Random Wallpaper with Transition","text":"<pre><code>#!/bin/bash\nSOCKET=\"/tmp/gslapper.sock\"\nWALLPAPER_DIR=\"/home/user/Pictures/wallpapers\"\n\n# Get random image\nRANDOM_IMG=$(find \"$WALLPAPER_DIR\" -type f \\( -iname \"*.jpg\" -o -iname \"*.png\" -o -iname \"*.webp\" \\) | shuf -n 1)\n\n# Start or change wallpaper\nif pgrep -x gslapper &gt; /dev/null; then\n    echo \"change $RANDOM_IMG\" | nc -U \"$SOCKET\"\nelse\n    gslapper --transition-type fade --transition-duration 1.5 -I \"$SOCKET\" DP-1 \"$RANDOM_IMG\"\nfi\n</code></pre>"},{"location":"advanced/troubleshooting/","title":"Troubleshooting","text":"<p>Common issues and their solutions.</p>"},{"location":"advanced/troubleshooting/#video-wont-play","title":"Video Won't Play","text":""},{"location":"advanced/troubleshooting/#pipeline-failed-to-reach-playing-state","title":"\"Pipeline failed to reach playing state\"","text":"<p>Cause: Missing codec support</p> <p>Solution: Install GStreamer codec plugins:</p> <pre><code># Arch Linux\nsudo pacman -S gst-plugins-ugly gst-libav\n\n# Ubuntu/Debian\nsudo apt install gstreamer1.0-plugins-ugly gstreamer1.0-libav\n</code></pre>"},{"location":"advanced/troubleshooting/#video-plays-but-no-display","title":"Video Plays But No Display","text":"<p>Cause: Wayland compositor not detected or EGL initialization failed</p> <p>Solution: 1. Verify you're running a Wayland compositor (Hyprland, Sway, etc.) 2. Check EGL support: <code>gst-inspect-1.0 egl</code> 3. Try with verbose output: <code>gslapper -vv DP-1 video.mp4</code></p>"},{"location":"advanced/troubleshooting/#video-plays-but-freezes","title":"Video Plays But Freezes","text":"<p>Cause: GStreamer pipeline issues or resource exhaustion</p> <p>Solution: 1. Check system resources: <code>htop</code> 2. Restart gSlapper 3. Try a different video file 4. Check logs with <code>-vv</code> flag</p>"},{"location":"advanced/troubleshooting/#image-issues","title":"Image Issues","text":""},{"location":"advanced/troubleshooting/#image-not-displaying","title":"Image Not Displaying","text":"<p>Cause: Unsupported format or file corruption</p> <p>Solution: 1. Verify file format is supported (JPEG, PNG, WebP, GIF) 2. Check file is not corrupted: <code>file /path/to/image.jpg</code> 3. Try with another image 4. Use verbose mode: <code>gslapper -vv DP-1 image.jpg</code></p>"},{"location":"advanced/troubleshooting/#image-shows-letterboxing","title":"Image Shows Letterboxing","text":"<p>Cause: Wrong scaling mode</p> <p>Solution: Use fill mode: <pre><code>gslapper -o \"fill\" DP-1 image.jpg\n</code></pre></p>"},{"location":"advanced/troubleshooting/#image-looks-distorted","title":"Image Looks Distorted","text":"<p>Cause: Stretch mode enabled</p> <p>Solution: Use fill mode instead: <pre><code>gslapper -o \"fill\" DP-1 image.jpg\n</code></pre></p>"},{"location":"advanced/troubleshooting/#transition-issues","title":"Transition Issues","text":""},{"location":"advanced/troubleshooting/#transitions-not-working","title":"Transitions Not Working","text":"<p>Cause: IPC not enabled or transitions disabled</p> <p>Solution: 1. Enable IPC: <code>-I /tmp/gslapper.sock</code> 2. Enable transitions: <code>--transition-type fade</code> 3. Verify both are set: <pre><code>gslapper --transition-type fade --transition-duration 2.0 -I /tmp/gslapper.sock DP-1 image.jpg\n</code></pre></p>"},{"location":"advanced/troubleshooting/#transition-shows-letterboxing","title":"Transition Shows Letterboxing","text":"<p>Cause: This was a bug that has been fixed in recent versions</p> <p>Solution: Update to latest version. Both images should fill the screen correctly.</p>"},{"location":"advanced/troubleshooting/#transition-too-fastslow","title":"Transition Too Fast/Slow","text":"<p>Cause: Duration not set correctly</p> <p>Solution: Adjust duration: <pre><code># Faster (0.5 seconds)\ngslapper --transition-type fade --transition-duration 0.5 -I /tmp/sock DP-1 image.jpg\n\n# Slower (3.0 seconds)\ngslapper --transition-type fade --transition-duration 3.0 -I /tmp/sock DP-1 image.jpg\n</code></pre></p>"},{"location":"advanced/troubleshooting/#ipc-issues","title":"IPC Issues","text":""},{"location":"advanced/troubleshooting/#connection-refused-or-no-such-file","title":"\"Connection refused\" or \"No such file\"","text":"<p>Cause: IPC socket not created or gSlapper not running</p> <p>Solution: 1. Verify gSlapper is running: <code>pgrep gslapper</code> 2. Check socket exists: <code>ls -l /tmp/gslapper.sock</code> 3. Ensure IPC was enabled: <code>gslapper -I /tmp/gslapper.sock ...</code></p>"},{"location":"advanced/troubleshooting/#ipc-commands-not-working","title":"IPC Commands Not Working","text":"<p>Cause: Wrong socket path or permission issues</p> <p>Solution: 1. Use correct socket path 2. Check permissions: <code>ls -l /tmp/gslapper.sock</code> 3. Try with socat instead of nc: <pre><code>echo \"query\" | socat - UNIX-CONNECT:/tmp/gslapper.sock\n</code></pre></p>"},{"location":"advanced/troubleshooting/#multi-monitor-issues","title":"Multi-Monitor Issues","text":""},{"location":"advanced/troubleshooting/#wrong-monitor-selected","title":"Wrong Monitor Selected","text":"<p>Cause: Monitor name mismatch</p> <p>Solution: 1. List available monitors: <code>gslapper -d</code> 2. Use exact name or identifier 3. Try with <code>'*'</code> for all monitors</p>"},{"location":"advanced/troubleshooting/#wallpaper-not-showing-on-all-monitors","title":"Wallpaper Not Showing on All Monitors","text":"<p>Cause: Multiple instances interfering</p> <p>Solution: 1. Kill all instances: <code>pkill gslapper</code> 2. Start fresh with <code>'*'</code>: <pre><code>gslapper -o \"loop\" '*' video.mp4\n</code></pre></p>"},{"location":"advanced/troubleshooting/#performance-issues","title":"Performance Issues","text":""},{"location":"advanced/troubleshooting/#high-cpu-usage","title":"High CPU Usage","text":"<p>See Performance Tuning for detailed solutions.</p> <p>Quick fixes: - Lower FPS: <code>--fps-cap 30</code> - Use auto-pause: <code>-p</code> - Use static images instead of videos</p>"},{"location":"advanced/troubleshooting/#high-memory-usage","title":"High Memory Usage","text":"<p>Cause: Large video files or memory leak</p> <p>Solution: 1. Use lower resolution videos 2. Restart gSlapper periodically 3. Check for updates (memory leaks are fixed in newer versions)</p>"},{"location":"advanced/troubleshooting/#build-issues","title":"Build Issues","text":""},{"location":"advanced/troubleshooting/#meson-command-not-found","title":"\"meson: command not found\"","text":"<p>Solution: Install build dependencies: <pre><code># Arch Linux\nsudo pacman -S meson ninja\n\n# Ubuntu/Debian\nsudo apt install meson ninja-build\n</code></pre></p>"},{"location":"advanced/troubleshooting/#wayland-protocols-not-found","title":"\"wayland-protocols not found\"","text":"<p>Solution: Install Wayland development packages: <pre><code># Arch Linux\nsudo pacman -S wayland-protocols\n\n# Ubuntu/Debian\nsudo apt install wayland-protocols\n</code></pre></p>"},{"location":"advanced/troubleshooting/#compilation-errors","title":"Compilation Errors","text":"<p>Solution: 1. Ensure all dependencies are installed 2. Clean build directory: <code>rm -rf build &amp;&amp; meson setup build</code> 3. Check for error messages in build output</p>"},{"location":"advanced/troubleshooting/#getting-help","title":"Getting Help","text":""},{"location":"advanced/troubleshooting/#verbose-output","title":"Verbose Output","text":"<p>Always include verbose output when reporting issues:</p> <pre><code>gslapper -vv DP-1 video.mp4 &gt; /tmp/gslapper.log 2&gt;&amp;1\n</code></pre>"},{"location":"advanced/troubleshooting/#system-information","title":"System Information","text":"<p>Include when reporting issues: - Distribution and version - Wayland compositor (Hyprland, Sway, etc.) - GPU and drivers - GStreamer version: <code>gst-launch-1.0 --version</code></p>"},{"location":"advanced/troubleshooting/#reporting-issues","title":"Reporting Issues","text":"<ol> <li>Check existing issues on GitHub</li> <li>Include verbose log output</li> <li>Include system information</li> <li>Describe steps to reproduce</li> </ol>"},{"location":"development/architecture/","title":"Architecture","text":"<p>This document provides an overview of gSlapper's internal architecture and design decisions.</p>"},{"location":"development/architecture/#overview","title":"Overview","text":"<p>gSlapper is a high-performance wallpaper manager for Wayland that combines the best of swww and mpvpaper. It uses GStreamer for media playback and EGL/OpenGL for rendering, providing faster performance, better efficiency, and fixes memory leaks on NVIDIA Wayland systems while offering superior multi-monitor support.</p>"},{"location":"development/architecture/#core-components","title":"Core Components","text":""},{"location":"development/architecture/#mainc","title":"main.c","text":"<p>The main application file (<code>src/main.c</code>, ~2000 lines) contains:</p> <ul> <li>GStreamer pipeline management - <code>init_gst()</code>, <code>buffer_probe()</code>, <code>bus_callback()</code></li> <li>EGL/OpenGL rendering - <code>init_egl()</code>, <code>render()</code>, <code>create_shader_program()</code></li> <li>Wayland compositor integration - <code>layer_surface_configure()</code>, <code>output_listener()</code></li> <li>Video texture management - Smart allocation with <code>texture_manager</code> struct</li> <li>Seamless looping - Segment-based looping via <code>GST_MESSAGE_SEGMENT_DONE</code></li> <li>Multi-output support - Independent rendering per monitor</li> <li>Thread management - Event handling and process monitoring</li> </ul>"},{"location":"development/architecture/#holderc","title":"holder.c","text":"<p>Process monitoring (<code>src/holder.c</code>, ~420 lines):</p> <ul> <li>Minimal Wayland client that monitors gslapper state</li> <li>Handles stoplist/pauselist functionality</li> <li>Revives main process when conditions are met</li> <li>Acts as a \"gate keeper\" before main application runs</li> </ul>"},{"location":"development/architecture/#ipcch","title":"ipc.c/h","text":"<p>IPC control system (<code>src/ipc.c</code>, <code>inc/ipc.h</code>, ~500 lines):</p> <ul> <li>Unix domain socket server for runtime control</li> <li>Thread-safe command queue with mutex protection</li> <li>Client thread per connection, main thread processes commands</li> <li>Wakeup pipe integrates with main <code>poll()</code> loop</li> <li>Supports pause/resume/query/change/transition commands</li> </ul>"},{"location":"development/architecture/#cflogprinterch","title":"cflogprinter.c/h","text":"<p>Custom colored logging system:</p> <ul> <li>Functions: <code>cflp_info()</code>, <code>cflp_success()</code>, <code>cflp_warning()</code>, <code>cflp_error()</code></li> <li>Provides consistent logging format across the application</li> </ul>"},{"location":"development/architecture/#gladc","title":"glad.c","text":"<p>OpenGL function loader (generated code):</p> <ul> <li>Provides EGL and OpenGL function pointers</li> <li>Enables runtime OpenGL function resolution</li> </ul>"},{"location":"development/architecture/#design-patterns","title":"Design Patterns","text":""},{"location":"development/architecture/#segment-based-looping","title":"Segment-Based Looping","text":"<p>Uses <code>GST_SEEK_FLAG_SEGMENT</code> instead of EOS-based looping:</p> <ul> <li>Eliminates playback gaps between loops</li> <li>Initialized on first <code>GST_STATE_PLAYING</code> transition</li> <li>Handled in <code>bus_callback()</code> (lines 976-1016)</li> </ul>"},{"location":"development/architecture/#smart-texture-management","title":"Smart Texture Management","text":"<p>Reuses texture allocation when dimensions match:</p> <ul> <li>Reduces GPU memory reallocations</li> <li>Prevents memory accumulation during playback</li> <li>Implemented in texture manager (lines 84-336)</li> </ul>"},{"location":"development/architecture/#thread-safe-frame-updates","title":"Thread-Safe Frame Updates","text":"<ul> <li><code>video_mutex</code> protects shared frame data</li> <li><code>buffer_probe()</code> callback copies frame data asynchronously</li> <li>Wakeup pipe triggers rendering from main thread</li> <li>Frame updates (lines 881-945)</li> </ul>"},{"location":"development/architecture/#egl-context-management","title":"EGL Context Management","text":"<p>Creates compatibility context first, falls back to core:</p> <ul> <li>Tries multiple OpenGL versions (3.3, 3.2, 4.x)</li> <li>Required for multi-output rendering</li> <li>Context management (lines 1326-1411)</li> </ul>"},{"location":"development/architecture/#ipc-command-queue","title":"IPC Command Queue","text":"<ul> <li>Thread-safe command queue with mutex protection</li> <li>Wakeup pipe integrates with main <code>poll()</code> loop</li> <li>Client threads handle socket I/O, main thread processes commands</li> <li>Responses sent back to clients via socket</li> </ul>"},{"location":"development/architecture/#gstreamer-pipeline","title":"GStreamer Pipeline","text":""},{"location":"development/architecture/#pipeline-architecture","title":"Pipeline Architecture","text":"<pre><code>playbin \u2192 appsink (RGBA format) \u2192 buffer_probe \u2192 texture_manager \u2192 OpenGL rendering\n</code></pre>"},{"location":"development/architecture/#options-handling","title":"Options Handling","text":"<p>The <code>apply_gst_options()</code> function handles:</p> <ul> <li><code>loop</code> - Enables segment-based seamless looping (videos only)</li> <li><code>no-audio</code>/<code>mute</code> - Disables audio playback (videos only)</li> <li><code>panscan=X</code> - Scales content by factor X (0.0-1.0, default for videos)</li> <li><code>fill</code> - Fill screen maintaining aspect ratio, crop excess (default for images)</li> <li><code>stretch</code> - Fill screen ignoring aspect ratio</li> <li><code>original</code> - Display at actual pixel dimensions (1:1 mapping)</li> <li>Frame rate capping: 30/60/100 FPS options</li> </ul>"},{"location":"development/architecture/#image-support","title":"Image Support","text":"<p>Image pipeline:</p> <pre><code>filesrc \u2192 typefind \u2192 decoder \u2192 videoconvert \u2192 imagefreeze \u2192 appsink (RGBA)\n</code></pre> <ul> <li>Format detection via file extension (case-insensitive)</li> <li>Uses GStreamer <code>imagefreeze</code> element for static display</li> <li>Default scaling mode: <code>fill</code> (crop to fill screen)</li> <li>Transitions: Supports fade transition between images (opt-in)</li> </ul>"},{"location":"development/architecture/#wayland-integration","title":"Wayland Integration","text":""},{"location":"development/architecture/#layer-shell-protocol","title":"Layer Shell Protocol","text":"<ul> <li>Uses <code>wlr-layer-shell-unstable-v1</code> protocol</li> <li>Supports background, bottom, top, overlay layers</li> <li>Handles multi-monitor configurations via <code>wl_output</code></li> </ul>"},{"location":"development/architecture/#surface-management","title":"Surface Management","text":"<ul> <li>One <code>wl_surface</code> + <code>zwlr_layer_surface_v1</code> per output</li> <li>EGL window surface for each output</li> <li>Frame callbacks coordinate rendering with compositor</li> </ul>"},{"location":"development/architecture/#transition-system","title":"Transition System","text":""},{"location":"development/architecture/#architecture_1","title":"Architecture","text":"<p>Transition state structure:</p> <pre><code>typedef struct {\n    transition_type_t type;      // TRANSITION_NONE or TRANSITION_FADE\n    bool active;                 // Currently transitioning?\n    bool enabled;                // Globally enabled?\n    float duration;              // Total duration in seconds\n    float progress;              // Progress 0.0-1.0\n    uint8_t *old_pixels;         // Old image pixels (RGBA)\n    uint8_t *new_pixels;         // New image pixels (RGBA)\n    uint8_t *blend_pixels;       // Blended result for display\n    int width, height;           // Display resolution\n    struct timespec start_time;\n} transition_state_t;\n</code></pre>"},{"location":"development/architecture/#core-functions","title":"Core Functions","text":"<ol> <li><code>start_transition()</code> - Captures current wallpaper, prepares buffers</li> <li><code>activate_transition()</code> - Loads new image and starts blending</li> <li><code>update_transition()</code> - Blends pixels each frame using integer math</li> <li><code>complete_transition()</code> - Cleans up after completion</li> <li><code>cancel_transition()</code> - Cancels ongoing transition</li> </ol>"},{"location":"development/architecture/#blending-algorithm","title":"Blending Algorithm","text":"<p>CPU-based alpha blending for speed:</p> <pre><code>// Integer-based alpha blending\nint step = (int)(progress * 256.0f);\nblend[i] = ((old[i] * (256 - step) + new[i] * step) &gt;&gt; 8);\n</code></pre>"},{"location":"development/architecture/#memory-management","title":"Memory Management","text":""},{"location":"development/architecture/#critical-cleanup-order","title":"Critical Cleanup Order","text":"<p>The <code>exit_cleanup()</code> function follows this order:</p> <ol> <li>Signal threads to stop</li> <li>Cancel all pthread threads</li> <li>Clean up texture manager</li> <li>Graceful GStreamer shutdown (PAUSED \u2192 READY \u2192 NULL)</li> <li>Unref pipeline and bus</li> <li>Destroy EGL contexts</li> <li>Free allocated strings and arrays</li> </ol>"},{"location":"development/architecture/#memory-leak-prevention","title":"Memory Leak Prevention","text":"<ul> <li>Always free GStreamer objects with <code>gst_object_unref()</code></li> <li>Destroy Wayland objects in reverse creation order</li> <li>Use <code>g_free()</code> for GLib allocations, <code>free()</code> for malloc()</li> </ul>"},{"location":"development/architecture/#performance-considerations","title":"Performance Considerations","text":""},{"location":"development/architecture/#frame-rate-management","title":"Frame Rate Management","text":"<ul> <li>Default 30 FPS cap to reduce GPU load (<code>target_frame_time_ns</code>)</li> <li>Adaptive frame skipping under load</li> <li>Smart texture reallocation only when dimensions change</li> </ul>"},{"location":"development/architecture/#gpu-memory-optimization","title":"GPU Memory Optimization","text":"<ul> <li><code>appsink</code> limited to 1 buffer (<code>max-buffers</code>)</li> <li>Texture updates use <code>glTexSubImage2D()</code></li> <li>Frame rate limiting prevents buffer accumulation</li> </ul>"},{"location":"development/architecture/#multi-monitor-efficiency","title":"Multi-Monitor Efficiency","text":"<ul> <li>Single pipeline with multiple rendering surfaces</li> <li>Shared texture across all outputs</li> <li>Independent rendering per monitor</li> </ul>"},{"location":"development/architecture/#nvidia-specific-handling","title":"NVIDIA-Specific Handling","text":"<ul> <li>Forces <code>GL_BACK</code> draw buffer for NVIDIA Pro drivers</li> <li>Swap interval 0 for immediate presentation</li> <li>Compatibility context preferred over core context</li> </ul>"},{"location":"development/architecture/#threading-model","title":"Threading Model","text":""},{"location":"development/architecture/#main-thread","title":"Main Thread","text":"<ul> <li>Wayland event loop</li> <li>IPC command processing</li> <li>Rendering coordination</li> <li>GStreamer bus message handling</li> </ul>"},{"location":"development/architecture/#worker-threads","title":"Worker Threads","text":"<ul> <li>IPC client threads - Handle individual socket connections</li> <li>Pauselist monitor - Monitors pauselist file changes</li> <li>Stoplist monitor - Monitors stoplist file changes</li> </ul>"},{"location":"development/architecture/#thread-communication","title":"Thread Communication","text":"<ul> <li><code>video_mutex</code> - Protects shared video frame data</li> <li><code>ipc_queue_mutex</code> - Protects IPC command queue</li> <li><code>wakeup_pipe</code> - Signals main thread for IPC commands</li> <li>Frame callbacks - Coordinate rendering with compositor</li> </ul>"},{"location":"development/architecture/#file-structure","title":"File Structure","text":"<pre><code>gSlapper/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 main.c          # Main application (~2000 lines)\n\u2502   \u251c\u2500\u2500 holder.c        # Process monitoring (~420 lines)\n\u2502   \u251c\u2500\u2500 ipc.c           # IPC control system (~500 lines)\n\u2502   \u251c\u2500\u2500 cflogprinter.c  # Logging system\n\u2502   \u2514\u2500\u2500 glad.c          # OpenGL loader\n\u251c\u2500\u2500 inc/\n\u2502   \u251c\u2500\u2500 ipc.h           # IPC interface\n\u2502   \u251c\u2500\u2500 cflogprinter.h  # Logging interface\n\u2502   \u2514\u2500\u2500 glad/           # OpenGL headers\n\u251c\u2500\u2500 proto/\n\u2502   \u2514\u2500\u2500 wlr-layer-shell-unstable-v1.xml  # Wayland protocol\n\u2514\u2500\u2500 docs/               # Documentation\n</code></pre>"},{"location":"development/architecture/#future-improvements","title":"Future Improvements","text":"<ul> <li>GPU-accelerated transitions (shader-based blending)</li> <li>Image preloading and caching</li> <li>Additional transition effects (wipe, center, outer, random)</li> <li>Hardware-accelerated video decoding</li> <li>Better error recovery and resilience</li> </ul>"},{"location":"development/building/","title":"Building from Source","text":"<p>This guide covers building gSlapper from source for development and customization.</p>"},{"location":"development/building/#prerequisites","title":"Prerequisites","text":""},{"location":"development/building/#arch-linux","title":"Arch Linux","text":"<pre><code># Runtime dependencies\nsudo pacman -S gstreamer gst-plugins-base gst-plugins-good gst-plugins-bad gst-plugins-ugly gst-libav\n\n# Build dependencies\nsudo pacman -S meson ninja wayland-protocols\n</code></pre>"},{"location":"development/building/#ubuntudebian","title":"Ubuntu/Debian","text":"<pre><code># Runtime dependencies\nsudo apt install gstreamer1.0-tools gstreamer1.0-plugins-base gstreamer1.0-plugins-good \\\n                 gstreamer1.0-plugins-bad gstreamer1.0-plugins-ugly gstreamer1.0-libav\n\n# Build dependencies\nsudo apt install meson ninja-build wayland-protocols libunwind-dev\n</code></pre>"},{"location":"development/building/#fedorarhel","title":"Fedora/RHEL","text":"<pre><code># Runtime dependencies\nsudo dnf install gstreamer1 gstreamer1-plugins-base gstreamer1-plugins-good \\\n                 gstreamer1-plugins-bad gstreamer1-plugins-ugly gstreamer1-libav\n\n# Build dependencies\nsudo dnf install meson ninja-build wayland-protocols-devel\n</code></pre>"},{"location":"development/building/#building","title":"Building","text":""},{"location":"development/building/#standard-build","title":"Standard Build","text":"<pre><code>git clone https://github.com/Nomadcxx/gSlapper.git\ncd gSlapper\nmeson setup build --prefix=/usr/local --buildtype=release\nninja -C build\nsudo ninja -C build install\n</code></pre>"},{"location":"development/building/#debug-build","title":"Debug Build","text":"<p>For development with debug symbols and verbose logging:</p> <pre><code>meson setup build --buildtype=debug\nninja -C build\n./build/gslapper --help\n</code></pre>"},{"location":"development/building/#custom-installation-prefix","title":"Custom Installation Prefix","text":"<pre><code>meson setup build --prefix=/usr\nninja -C build\nsudo ninja -C build install\n</code></pre>"},{"location":"development/building/#build-options","title":"Build Options","text":""},{"location":"development/building/#available-options","title":"Available Options","text":"<p>Check available build options:</p> <pre><code>meson configure build\n</code></pre>"},{"location":"development/building/#common-options","title":"Common Options","text":"<pre><code># Set custom prefix\nmeson setup build --prefix=/opt/gslapper\n\n# Enable/disable features (if available)\nmeson setup build -Dfeature=enabled\n\n# Set build type\nmeson setup build --buildtype=release  # or debug, debugoptimized\n</code></pre>"},{"location":"development/building/#testing-the-build","title":"Testing the Build","text":"<p>After building, test the binary:</p> <pre><code># Check help output\n./build/gslapper --help\n\n# List available outputs\n./build/gslapper -d\n\n# Test with a video\n./build/gslapper -v DP-1 /path/to/video.mp4\n\n# Test with an image\n./build/gslapper -v DP-1 /path/to/image.jpg\n</code></pre>"},{"location":"development/building/#rebuilding","title":"Rebuilding","text":"<p>After making code changes:</p> <pre><code># Quick rebuild\nninja -C build\n\n# Clean rebuild\nrm -rf build\nmeson setup build --prefix=/usr/local --buildtype=release\nninja -C build\n</code></pre>"},{"location":"development/building/#troubleshooting","title":"Troubleshooting","text":""},{"location":"development/building/#missing-codecs","title":"Missing Codecs","text":"<p>If videos fail to play, ensure codec plugins are installed:</p> <pre><code># Arch Linux\nsudo pacman -S gst-plugins-ugly gst-libav\n\n# Ubuntu/Debian\nsudo apt install gstreamer1.0-plugins-ugly gstreamer1.0-libav\n</code></pre>"},{"location":"development/building/#wayland-protocol-errors","title":"Wayland Protocol Errors","text":"<p>If you see protocol errors, ensure wayland-protocols is installed:</p> <pre><code># Arch Linux\nsudo pacman -S wayland-protocols\n\n# Ubuntu/Debian\nsudo apt install wayland-protocols\n</code></pre>"},{"location":"development/building/#gstreamer-not-found","title":"GStreamer Not Found","text":"<p>If meson can't find GStreamer:</p> <pre><code># Check pkg-config\npkg-config --modversion gstreamer-1.0\n\n# Install development packages\n# Arch Linux\nsudo pacman -S gstreamer gst-plugins-base\n\n# Ubuntu/Debian\nsudo apt install libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev\n</code></pre>"},{"location":"development/building/#development-workflow","title":"Development Workflow","text":"<ol> <li>Make changes to source files in <code>src/</code></li> <li>Rebuild with <code>ninja -C build</code></li> <li>Test with <code>./build/gslapper</code></li> <li>Debug with <code>-vv</code> flag for verbose output</li> <li>Iterate as needed</li> </ol>"},{"location":"development/building/#package-building","title":"Package Building","text":"<p>For Arch Linux package building:</p> <pre><code># Build package\nmakepkg -si\n\n# Update .SRCINFO after PKGBUILD changes\nmakepkg --printsrcinfo &gt; .SRCINFO\n</code></pre> <p>See PKGBUILD for package configuration.</p>"},{"location":"development/contributing/","title":"Contributing","text":"<p>Thank you for your interest in contributing to gSlapper! This guide will help you get started.</p>"},{"location":"development/contributing/#getting-started","title":"Getting Started","text":"<ol> <li>Fork the repository on GitHub</li> <li>Clone your fork:    <pre><code>git clone https://github.com/YOUR_USERNAME/gSlapper.git\ncd gSlapper\n</code></pre></li> <li>Create a branch for your changes:    <pre><code>git checkout -b feature/your-feature-name\n</code></pre></li> </ol>"},{"location":"development/contributing/#development-setup","title":"Development Setup","text":"<p>See Building from Source for setup instructions.</p>"},{"location":"development/contributing/#code-style","title":"Code Style","text":"<ul> <li>C code follows K&amp;R style with 4-space indentation</li> <li>GStreamer objects use <code>g_</code> prefix (GLib naming)</li> <li>Wayland objects use <code>wl_</code> prefix</li> <li>Static functions at file scope</li> <li>Global state in <code>global_state</code> pointer</li> <li>Thread communication via <code>wakeup_pipe</code></li> </ul>"},{"location":"development/contributing/#making-changes","title":"Making Changes","text":""},{"location":"development/contributing/#adding-new-features","title":"Adding New Features","text":"<ol> <li>Plan your changes - Consider architecture and impact</li> <li>Update documentation - Add/update relevant docs</li> <li>Add tests - Create test scripts if applicable</li> <li>Test thoroughly - Test on different compositors and setups</li> </ol>"},{"location":"development/contributing/#adding-new-ipc-commands","title":"Adding New IPC Commands","text":"<ol> <li>Define command handler in <code>src/main.c</code>'s <code>process_ipc_commands()</code> function</li> <li>Parse command arguments from <code>cmd_line</code> string</li> <li>Validate inputs and check state</li> <li>Implement command logic with thread safety in mind</li> <li>Send response via <code>ipc_send_response(client_fd, response)</code></li> <li>Free command with <code>free(cmd-&gt;cmd_line)</code> and <code>free(cmd)</code></li> </ol> <p>See existing commands like <code>set-transition</code> or <code>change</code> for examples.</p>"},{"location":"development/contributing/#adding-new-transition-effects","title":"Adding New Transition Effects","text":"<ol> <li>Add transition type to <code>transition_type_t</code> enum</li> <li>Implement transition function (similar to <code>update_transition()</code>)</li> <li>Update command parser in IPC <code>set-transition</code> handler</li> <li>Add command-line option parsing in <code>parse_command_line()</code></li> <li>Test with automated and visual tests</li> </ol>"},{"location":"development/contributing/#modifying-rendering-pipeline","title":"Modifying Rendering Pipeline","text":"<ol> <li>Locate rendering code in <code>render()</code> function</li> <li>Ensure EGL context is current before OpenGL calls</li> <li>Lock <code>video_mutex</code> when accessing <code>video_frame_data</code> or <code>transition_state</code></li> <li>Update vertex data with <code>update_vertex_data()</code> for scaling changes</li> </ol>"},{"location":"development/contributing/#testing","title":"Testing","text":""},{"location":"development/contributing/#basic-functionality","title":"Basic Functionality","text":"<pre><code># Test video playback\n./build/gslapper -v DP-1 /path/to/video.mp4\n\n# Test image display\n./build/gslapper -v DP-1 /path/to/image.jpg\n\n# Test with IPC enabled\n./build/gslapper -I /tmp/test.sock -o \"loop\" DP-1 video.mp4\n</code></pre>"},{"location":"development/contributing/#test-scripts","title":"Test Scripts","text":"<p>Run the included test scripts:</p> <pre><code># Video format testing\n./test-all-formats.sh\n\n# Image format testing\n./test-images.sh\n\n# Wallpaper modes testing\n./test-wallpaper-modes.sh\n\n# Transition effects testing\n./test-transitions-comprehensive.sh\n</code></pre>"},{"location":"development/contributing/#ipc-testing","title":"IPC Testing","text":"<pre><code># Start with IPC enabled\n./build/gslapper -I /tmp/test.sock -vv -o \"loop\" DP-1 video.mp4\n\n# From another terminal, test commands\necho \"query\" | nc -U /tmp/test.sock\necho \"pause\" | nc -U /tmp/test.sock\necho \"resume\" | nc -U /tmp/test.sock\n</code></pre>"},{"location":"development/contributing/#commit-guidelines","title":"Commit Guidelines","text":"<ul> <li>Write clear commit messages - Explain what and why</li> <li>Keep commits focused - One logical change per commit</li> <li>Test before committing - Ensure changes work</li> <li>Update documentation - Keep docs in sync with code</li> </ul>"},{"location":"development/contributing/#commit-message-format","title":"Commit Message Format","text":"<pre><code>Short summary (50 chars or less)\n\nMore detailed explanation if needed. Wrap at 72 characters.\nExplain what the change does and why.\n\n- Bullet points for multiple changes\n- Reference issues if applicable\n</code></pre>"},{"location":"development/contributing/#pull-request-process","title":"Pull Request Process","text":"<ol> <li>Ensure your code works - Test on your system</li> <li>Update documentation - Keep docs current</li> <li>Write a clear PR description - Explain changes and motivation</li> <li>Reference issues - Link to related issues if applicable</li> <li>Wait for review - Be responsive to feedback</li> </ol>"},{"location":"development/contributing/#areas-for-contribution","title":"Areas for Contribution","text":"<ul> <li>Bug fixes - Report and fix issues</li> <li>Performance improvements - Optimize rendering or memory usage</li> <li>New features - Add requested functionality</li> <li>Documentation - Improve docs and examples</li> <li>Testing - Add test coverage</li> <li>Code quality - Refactor and improve code</li> </ul>"},{"location":"development/contributing/#reporting-issues","title":"Reporting Issues","text":"<p>When reporting issues, please include:</p> <ul> <li>gSlapper version - <code>gslapper --version</code> or git commit</li> <li>System information - OS, compositor, GPU</li> <li>Steps to reproduce - Clear reproduction steps</li> <li>Expected behavior - What should happen</li> <li>Actual behavior - What actually happens</li> <li>Logs - Output with <code>-vv</code> flag if applicable</li> </ul>"},{"location":"development/contributing/#questions","title":"Questions?","text":"<p>Feel free to open an issue for questions or discussions about contributions.</p>"},{"location":"development/contributing/#license","title":"License","text":"<p>By contributing, you agree that your contributions will be licensed under the MIT License.</p>"},{"location":"getting-started/","title":"Getting Started","text":"<p>Welcome to gSlapper! This section will help you get up and running quickly.</p>"},{"location":"getting-started/#installation","title":"Installation","text":"<p>Install gSlapper on your system using one of the methods below.</p> <ul> <li>Install from Source - Build from source code</li> <li>Quick Start - Get running in minutes</li> </ul>"},{"location":"getting-started/#configuration","title":"Configuration","text":"<p>Basic configuration options and setup.</p> <ul> <li>Configuration Guide - All available options</li> </ul>"},{"location":"getting-started/#migration","title":"Migration","text":"<p>Already using another wallpaper tool? See our migration guide.</p> <ul> <li>Migration Guide - Switching from swww or mpvpaper</li> </ul>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<p>After installation, explore the User Guide for complete usage documentation.</p>"},{"location":"getting-started/configuration/","title":"Configuration","text":"<p>gSlapper uses configuration files compatible with mpvpaper.</p>"},{"location":"getting-started/configuration/#configuration-directory","title":"Configuration Directory","text":"<p>Configuration files are located in:</p> <pre><code>~/.config/mpvpaper/\n</code></pre>"},{"location":"getting-started/configuration/#pause-list","title":"Pause List","text":"<p>Create <code>~/.config/mpvpaper/pauselist</code> to specify applications that should pause wallpaper playback when they're in fullscreen:</p> <pre><code>firefox\nchromium\nmpv\nvlc\n</code></pre> <p>Each line should contain the application name (as it appears in window titles).</p>"},{"location":"getting-started/configuration/#stop-list","title":"Stop List","text":"<p>Create <code>~/.config/mpvpaper/stoplist</code> to specify applications that should stop wallpaper playback:</p> <pre><code>games\n</code></pre>"},{"location":"getting-started/configuration/#auto-pausestop-options","title":"Auto-Pause/Stop Options","text":"<p>You can also enable auto-pause/stop via command line:</p> <pre><code># Auto-pause when wallpaper is hidden\ngslapper -p -o \"loop\" DP-1 video.mp4\n\n# Auto-stop when wallpaper is hidden\ngslapper -s -o \"loop\" DP-1 video.mp4\n</code></pre>"},{"location":"getting-started/configuration/#environment-variables","title":"Environment Variables","text":"<p>Currently, gSlapper doesn't support environment variables for configuration. This may be added in future versions.</p>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#arch-linux","title":"Arch Linux","text":"<p>Install from AUR:</p> <pre><code>yay -S gslapper\n</code></pre>"},{"location":"getting-started/installation/#manual-build","title":"Manual Build","text":""},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<p>Arch Linux: <pre><code># Runtime dependencies\nsudo pacman -S gstreamer gst-plugins-base gst-plugins-good gst-plugins-bad gst-plugins-ugly gst-libav\n\n# Build dependencies\nsudo pacman -S meson ninja wayland-protocols\n</code></pre></p> <p>Ubuntu/Debian: <pre><code># Runtime dependencies\nsudo apt install gstreamer1.0-tools gstreamer1.0-plugins-base gstreamer1.0-plugins-good \\\n                 gstreamer1.0-plugins-bad gstreamer1.0-plugins-ugly gstreamer1.0-libav\n\n# Build dependencies\nsudo apt install meson ninja-build wayland-protocols libunwind-dev\n</code></pre></p>"},{"location":"getting-started/installation/#build-steps","title":"Build Steps","text":"<pre><code>git clone https://github.com/Nomadcxx/gSlapper.git\ncd gSlapper\nmeson setup build --prefix=/usr/local\nninja -C build\nsudo ninja -C build install\n</code></pre>"},{"location":"getting-started/installation/#codec-support","title":"Codec Support","text":"<p>Codec Support</p> <p><code>gst-plugins-ugly</code> and <code>gst-libav</code> provide codec support (H.264, H.265, etc.). Without these, videos may fail to play with \"Pipeline failed to reach playing state\" error.</p>"},{"location":"getting-started/installation/#verification","title":"Verification","text":"<p>After installation, verify gSlapper is working:</p> <pre><code>gslapper --help\n</code></pre> <p>You should see the help message with available options.</p>"},{"location":"getting-started/quick-start/","title":"Quick Start","text":"<p>Get gSlapper running in under a minute!</p>"},{"location":"getting-started/quick-start/#basic-video-wallpaper","title":"Basic Video Wallpaper","text":"<pre><code>gslapper DP-1 /path/to/video.mp4\n</code></pre> <p>Replace <code>DP-1</code> with your monitor name (use <code>gslapper -d</code> to list available monitors).</p>"},{"location":"getting-started/quick-start/#basic-image-wallpaper","title":"Basic Image Wallpaper","text":"<pre><code>gslapper DP-1 /path/to/wallpaper.jpg\n</code></pre> <p>Images default to \"fill\" mode, which fills the screen while maintaining aspect ratio.</p>"},{"location":"getting-started/quick-start/#with-looping","title":"With Looping","text":"<pre><code>gslapper -o \"loop\" DP-1 /path/to/video.mp4\n</code></pre>"},{"location":"getting-started/quick-start/#all-monitors","title":"All Monitors","text":"<pre><code>gslapper -o \"loop\" '*' /path/to/video.mp4\n</code></pre>"},{"location":"getting-started/quick-start/#background-mode","title":"Background Mode","text":"<p>Run in the background:</p> <pre><code>gslapper -f -o \"loop\" DP-1 /path/to/video.mp4\n</code></pre>"},{"location":"getting-started/quick-start/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Video Wallpapers</li> <li>Explore Static Images</li> <li>Set up IPC Control for runtime control</li> <li>Check Scaling Modes for display options</li> </ul>"},{"location":"user-guide/","title":"User Guide","text":"<p>This tutorial shows you how to use gSlapper with most of its features, step by step.</p> <p>Each section gradually builds on previous ones, but it's structured to separate topics, so that you can go directly to any specific one to solve your specific wallpaper needs.</p> <p>It is also built to work as a future reference so you can come back and see exactly what you need.</p>"},{"location":"user-guide/#tutorial-sections","title":"Tutorial Sections","text":""},{"location":"user-guide/#first-steps","title":"First Steps","text":"<p>Basic setup and running gSlapper with video or static wallpapers.</p> <ul> <li>First Steps - Basic Video Wallpaper</li> <li>Static Images - Getting Started</li> </ul>"},{"location":"user-guide/#core-features","title":"Core Features","text":"<p>Essential functionality for everyday wallpaper management.</p> <ul> <li>Scaling Modes - Fill, stretch, original, panscan</li> <li>Multi-Monitor Setup - Independent control per display</li> <li>Persistent Wallpapers - Survive reboots and logins</li> </ul>"},{"location":"user-guide/#advanced-features","title":"Advanced Features","text":"<p>Additional capabilities for power users and complex setups.</p> <ul> <li>IPC Control - Runtime control via Unix socket</li> <li>Transitions - Smooth wallpaper transitions</li> <li>Command Line Options - All available flags</li> </ul>"},{"location":"user-guide/#migration","title":"Migration","text":"<p>Coming from other wallpaper tools?</p> <ul> <li>Migration Guide - Switching from swww or mpvpaper</li> </ul> <p>Tip: Each page has progressive navigation. Use the links below each section to continue your learning journey.</p>"},{"location":"user-guide/command-line-options/","title":"Command Line Options","text":""},{"location":"user-guide/command-line-options/#basic-options","title":"Basic Options","text":""},{"location":"user-guide/command-line-options/#-v-verbose","title":"<code>-v, --verbose</code>","text":"<p>Enable verbose output. Use <code>-vv</code> for more detail.</p> <pre><code>gslapper -v DP-1 video.mp4\ngslapper -vv DP-1 video.mp4  # More verbose\n</code></pre>"},{"location":"user-guide/command-line-options/#-f-fork","title":"<code>-f, --fork</code>","text":"<p>Fork to background after starting.</p> <pre><code>gslapper -f -o \"loop\" DP-1 video.mp4\n</code></pre>"},{"location":"user-guide/command-line-options/#-d-help-output","title":"<code>-d, --help-output</code>","text":"<p>Display all available outputs and quit.</p> <pre><code>gslapper -d\n</code></pre>"},{"location":"user-guide/command-line-options/#-h-help","title":"<code>-h, --help</code>","text":"<p>Display help message.</p> <pre><code>gslapper --help\n</code></pre>"},{"location":"user-guide/command-line-options/#playback-control","title":"Playback Control","text":""},{"location":"user-guide/command-line-options/#-p-auto-pause","title":"<code>-p, --auto-pause</code>","text":"<p>Automatically pause when wallpaper is hidden.</p> <pre><code>gslapper -p -o \"loop\" DP-1 video.mp4\n</code></pre>"},{"location":"user-guide/command-line-options/#-s-auto-stop","title":"<code>-s, --auto-stop</code>","text":"<p>Automatically stop when wallpaper is hidden.</p> <pre><code>gslapper -s -o \"loop\" DP-1 video.mp4\n</code></pre>"},{"location":"user-guide/command-line-options/#display-options","title":"Display Options","text":""},{"location":"user-guide/command-line-options/#-l-layer-layer","title":"<code>-l, --layer LAYER</code>","text":"<p>Specify shell surface layer. Options:</p> <ul> <li><code>background</code> (default)</li> <li><code>bottom</code></li> <li><code>top</code></li> <li><code>overlay</code></li> </ul> <pre><code>gslapper -l overlay DP-1 video.mp4\n</code></pre>"},{"location":"user-guide/command-line-options/#ipc-options","title":"IPC Options","text":""},{"location":"user-guide/command-line-options/#-i-ipc-socket-path","title":"<code>-I, --ipc-socket PATH</code>","text":"<p>Enable IPC control via Unix socket.</p> <pre><code>gslapper -I /tmp/gslapper.sock DP-1 video.mp4\n</code></pre>"},{"location":"user-guide/command-line-options/#video-options","title":"Video Options","text":""},{"location":"user-guide/command-line-options/#-o-gst-options-options","title":"<code>-o, --gst-options \"OPTIONS\"</code>","text":"<p>Pass options to GStreamer. Space-separated list:</p> <ul> <li><code>loop</code> - Seamless video looping</li> <li><code>fill</code> - Fill screen maintaining aspect ratio (default for images)</li> <li><code>panscan=X</code> - Scale video (0.0-1.0, default 1.0)</li> <li><code>stretch</code> - Stretch to fill screen (ignore aspect ratio)</li> <li><code>original</code> - Display at native resolution</li> <li><code>no-audio</code> - Disable audio playback</li> </ul> <pre><code>gslapper -o \"loop panscan=0.8\" DP-1 video.mp4\n</code></pre>"},{"location":"user-guide/command-line-options/#transition-options","title":"Transition Options","text":""},{"location":"user-guide/command-line-options/#-transition-type-type","title":"<code>--transition-type TYPE</code>","text":"<p>Set transition effect type. Options:</p> <ul> <li><code>none</code> (default)</li> <li><code>fade</code></li> </ul> <pre><code>gslapper --transition-type fade -I /tmp/sock DP-1 image.jpg\n</code></pre>"},{"location":"user-guide/command-line-options/#-transition-duration-secs","title":"<code>--transition-duration SECS</code>","text":"<p>Set transition duration in seconds (default: 0.5).</p> <pre><code>gslapper --transition-type fade --transition-duration 2.0 -I /tmp/sock DP-1 image.jpg\n</code></pre>"},{"location":"user-guide/command-line-options/#examples","title":"Examples","text":"<pre><code># Basic video with looping\ngslapper -o \"loop\" DP-1 video.mp4\n\n# Image with fill mode and IPC\ngslapper -o \"fill\" -I /tmp/sock DP-1 image.jpg\n\n# Video with auto-pause and verbose output\ngslapper -v -p -o \"loop\" DP-1 video.mp4\n\n# Background mode with transitions\ngslapper -f --transition-type fade --transition-duration 1.5 -I /tmp/sock DP-1 image.jpg\n</code></pre>"},{"location":"user-guide/ipc-control/","title":"IPC Control","text":"<p>gSlapper supports runtime control via Unix domain sockets, allowing you to control playback from scripts or other applications.</p>"},{"location":"user-guide/ipc-control/#enabling-ipc","title":"Enabling IPC","text":"<p>Start gSlapper with the <code>-I</code> or <code>--ipc-socket</code> option:</p> <pre><code>gslapper -I /tmp/gslapper.sock -o \"loop\" DP-1 video.mp4\n</code></pre>"},{"location":"user-guide/ipc-control/#sending-commands","title":"Sending Commands","text":"<p>Use <code>nc</code> (netcat) or <code>socat</code> to send commands:</p> <pre><code># Using nc\necho \"pause\" | nc -U /tmp/gslapper.sock\n\n# Using socat\necho \"pause\" | socat - UNIX-CONNECT:/tmp/gslapper.sock\n</code></pre>"},{"location":"user-guide/ipc-control/#available-commands","title":"Available Commands","text":""},{"location":"user-guide/ipc-control/#pause","title":"<code>pause</code>","text":"<p>Pause video playback.</p> <pre><code>echo \"pause\" | nc -U /tmp/gslapper.sock\n</code></pre> <p>Response: <code>OK</code></p>"},{"location":"user-guide/ipc-control/#resume","title":"<code>resume</code>","text":"<p>Resume paused playback.</p> <pre><code>echo \"resume\" | nc -U /tmp/gslapper.sock\n</code></pre> <p>Response: <code>OK</code></p>"},{"location":"user-guide/ipc-control/#query","title":"<code>query</code>","text":"<p>Get current state and wallpaper path.</p> <pre><code>echo \"query\" | nc -U /tmp/gslapper.sock\n</code></pre> <p>Response: <code>STATUS: playing image /path/to/wallpaper.jpg</code> or <code>STATUS: paused video /path/to/video.mp4</code></p>"},{"location":"user-guide/ipc-control/#change-path","title":"<code>change &lt;path&gt;</code>","text":"<p>Switch to a different wallpaper.</p> <pre><code>echo \"change /path/to/new/video.mp4\" | nc -U /tmp/gslapper.sock\n</code></pre> <p>Response: <code>OK: transition started</code> (if transitions enabled) or <code>OK</code></p>"},{"location":"user-guide/ipc-control/#stop","title":"<code>stop</code>","text":"<p>Stop gSlapper.</p> <pre><code>echo \"stop\" | nc -U /tmp/gslapper.sock\n</code></pre> <p>Response: <code>OK</code> (gSlapper exits)</p>"},{"location":"user-guide/ipc-control/#set-transition-type","title":"<code>set-transition &lt;type&gt;</code>","text":"<p>Set transition effect type. Options: <code>none</code>, <code>fade</code>.</p> <pre><code>echo \"set-transition fade\" | nc -U /tmp/gslapper.sock\necho \"set-transition none\" | nc -U /tmp/gslapper.sock\n</code></pre> <p>Response: <code>OK</code> or <code>ERROR: &lt;message&gt;</code></p> <p>Transitions</p> <p>Transitions only work between static images. Videos always use instant switch regardless of transition settings.</p>"},{"location":"user-guide/ipc-control/#set-transition-duration-seconds","title":"<code>set-transition-duration &lt;seconds&gt;</code>","text":"<p>Set transition duration in seconds (0.0-5.0).</p> <pre><code>echo \"set-transition-duration 2.0\" | nc -U /tmp/gslapper.sock\n</code></pre> <p>Response: <code>OK</code> or <code>ERROR: &lt;message&gt;</code></p>"},{"location":"user-guide/ipc-control/#get-transition","title":"<code>get-transition</code>","text":"<p>Query current transition settings.</p> <pre><code>echo \"get-transition\" | nc -U /tmp/gslapper.sock\n</code></pre> <p>Response: <code>TRANSITION: &lt;type&gt; &lt;enabled|disabled&gt; &lt;duration&gt;</code></p> <p>Example: <code>TRANSITION: fade enabled 1.50</code></p>"},{"location":"user-guide/ipc-control/#response-format","title":"Response Format","text":"<ul> <li><code>OK</code> - Command succeeded</li> <li><code>OK: &lt;message&gt;</code> - Command succeeded with additional info</li> <li><code>ERROR: &lt;message&gt;</code> - Command failed with error message</li> <li><code>STATUS: &lt;state&gt; &lt;type&gt; &lt;path&gt;</code> - Query response</li> <li><code>TRANSITION: &lt;type&gt; &lt;enabled|disabled&gt; &lt;duration&gt;</code> - Transition query response</li> </ul>"},{"location":"user-guide/ipc-control/#example-script","title":"Example Script","text":"<pre><code>#!/bin/bash\nSOCKET=\"/tmp/gslapper.sock\"\n\ncase \"$1\" in\n    pause)\n        echo \"pause\" | nc -U \"$SOCKET\"\n        ;;\n    resume)\n        echo \"resume\" | nc -U \"$SOCKET\"\n        ;;\n    next)\n        echo \"change /path/to/next/video.mp4\" | nc -U \"$SOCKET\"\n        ;;\n    status)\n        echo \"query\" | nc -U \"$SOCKET\"\n        ;;\n    transition)\n        echo \"set-transition fade\" | nc -U \"$SOCKET\"\n        echo \"set-transition-duration 2.0\" | nc -U \"$SOCKET\"\n        ;;\n    *)\n        echo \"Usage: $0 {pause|resume|next|status|transition}\"\n        exit 1\n        ;;\nesac\n</code></pre>"},{"location":"user-guide/ipc-control/#future-commands","title":"Future Commands","text":"<p>The following commands are planned for future releases:</p> <ul> <li><code>preload &lt;path&gt;</code> - Preload image into cache</li> <li><code>unload &lt;path&gt;</code> - Remove image from cache</li> <li><code>list</code> - List preloaded images</li> </ul>"},{"location":"user-guide/scaling-modes/","title":"Scaling Modes","text":"<p>gSlapper provides several scaling modes to control how wallpapers are displayed.</p>"},{"location":"user-guide/scaling-modes/#fill-mode","title":"Fill Mode","text":"<p>Default for images</p> <p>Fills the entire screen while maintaining aspect ratio. Excess content is cropped.</p> <pre><code>gslapper -o \"fill\" DP-1 /path/to/image.jpg\n</code></pre> <p>Use case: Best for wallpapers where you want full screen coverage and don't mind cropping.</p>"},{"location":"user-guide/scaling-modes/#stretch-mode","title":"Stretch Mode","text":"<p>Fills the entire screen ignoring aspect ratio. Content may appear distorted.</p> <pre><code>gslapper -o \"stretch\" DP-1 /path/to/image.jpg\n</code></pre> <p>Use case: When you want full coverage and don't care about aspect ratio.</p>"},{"location":"user-guide/scaling-modes/#original-mode","title":"Original Mode","text":"<p>Displays at native resolution with 1:1 pixel mapping. May show letterboxing/pillarboxing.</p> <pre><code>gslapper -o \"original\" DP-1 /path/to/image.jpg\n</code></pre> <p>Use case: When you want to see the image exactly as it was created, pixel-perfect.</p>"},{"location":"user-guide/scaling-modes/#panscan-mode","title":"Panscan Mode","text":"<p>Default for videos</p> <p>Fits content inside the screen with a scaling factor (0.0 to 1.0).</p> <pre><code># Scale to 100% (fit to screen)\ngslapper -o \"panscan=1.0\" DP-1 /path/to/video.mp4\n\n# Scale to 80%\ngslapper -o \"panscan=0.8\" DP-1 /path/to/video.mp4\n</code></pre> <p>Use case: For videos where you want to control the zoom level while maintaining aspect ratio.</p>"},{"location":"user-guide/scaling-modes/#comparison","title":"Comparison","text":"Mode Aspect Ratio Coverage Distortion Fill Maintained Full None Stretch Ignored Full Possible Original Maintained Partial None Panscan Maintained Variable None"},{"location":"user-guide/scaling-modes/#recommendations","title":"Recommendations","text":"<ul> <li>Images: Use <code>fill</code> for most cases</li> <li>Videos: Use <code>panscan=1.0</code> (default) for best results</li> <li>Artwork: Use <code>original</code> to preserve pixel-perfect rendering</li> </ul>"},{"location":"user-guide/static-images/","title":"Static Images","text":"<p>gSlapper supports static images with automatic format detection and multiple scaling modes.</p>"},{"location":"user-guide/static-images/#supported-formats","title":"Supported Formats","text":"<ul> <li>JPEG (.jpg, .jpeg)</li> <li>PNG (.png)</li> <li>WebP (.webp)</li> <li>GIF (.gif) - First frame only</li> </ul>"},{"location":"user-guide/static-images/#basic-usage","title":"Basic Usage","text":"<pre><code>gslapper DP-1 /path/to/wallpaper.jpg\n</code></pre> <p>Images default to fill mode, which fills the screen while maintaining aspect ratio (cropping excess).</p>"},{"location":"user-guide/static-images/#scaling-modes","title":"Scaling Modes","text":""},{"location":"user-guide/static-images/#fill-mode-default","title":"Fill Mode (Default)","text":"<p>Fills the screen maintaining aspect ratio, crops excess:</p> <pre><code>gslapper -o \"fill\" DP-1 /path/to/image.png\n</code></pre>"},{"location":"user-guide/static-images/#stretch-mode","title":"Stretch Mode","text":"<p>Fills screen ignoring aspect ratio:</p> <pre><code>gslapper -o \"stretch\" DP-1 /path/to/image.png\n</code></pre>"},{"location":"user-guide/static-images/#original-resolution","title":"Original Resolution","text":"<p>Display at native resolution (1:1 pixel mapping):</p> <pre><code>gslapper -o \"original\" DP-1 /path/to/image.png\n</code></pre>"},{"location":"user-guide/static-images/#panscan-mode","title":"Panscan Mode","text":"<p>Fit inside screen with scaling factor:</p> <pre><code>gslapper -o \"panscan=0.8\" DP-1 /path/to/image.png\n</code></pre>"},{"location":"user-guide/static-images/#multiple-monitors","title":"Multiple Monitors","text":"<pre><code># Same image on all monitors\ngslapper -o \"fill\" '*' /path/to/wallpaper.jpg\n\n# Different images per monitor\ngslapper -o \"fill\" DP-1 /path/to/image1.jpg &amp;\ngslapper -o \"fill\" DP-3 /path/to/image2.jpg &amp;\n</code></pre>"},{"location":"user-guide/static-images/#transitions","title":"Transitions","text":"<p>gSlapper supports smooth fade transitions between images. See Transitions for details.</p>"},{"location":"user-guide/video-wallpapers/","title":"Video Wallpapers","text":"<p>gSlapper supports all video formats that GStreamer can decode, including MP4, MKV, WebM, AVI, MOV, and more.</p>"},{"location":"user-guide/video-wallpapers/#basic-usage","title":"Basic Usage","text":"<pre><code>gslapper DP-1 /path/to/video.mp4\n</code></pre>"},{"location":"user-guide/video-wallpapers/#looping","title":"Looping","text":"<p>To loop a video seamlessly:</p> <pre><code>gslapper -o \"loop\" DP-1 /path/to/video.mp4\n</code></pre>"},{"location":"user-guide/video-wallpapers/#scaling-options","title":"Scaling Options","text":""},{"location":"user-guide/video-wallpapers/#fit-to-screen-default","title":"Fit to Screen (Default)","text":"<pre><code>gslapper -o \"loop panscan=1.0\" DP-1 /path/to/video.mp4\n</code></pre>"},{"location":"user-guide/video-wallpapers/#scale-with-factor","title":"Scale with Factor","text":"<pre><code># Scale to 80% of screen size\ngslapper -o \"loop panscan=0.8\" DP-1 /path/to/video.mp4\n</code></pre>"},{"location":"user-guide/video-wallpapers/#stretch-to-fill","title":"Stretch to Fill","text":"<pre><code>gslapper -o \"loop stretch\" DP-1 /path/to/video.mp4\n</code></pre>"},{"location":"user-guide/video-wallpapers/#original-resolution","title":"Original Resolution","text":"<pre><code>gslapper -o \"loop original\" DP-1 /path/to/video.mp4\n</code></pre>"},{"location":"user-guide/video-wallpapers/#multiple-monitors","title":"Multiple Monitors","text":""},{"location":"user-guide/video-wallpapers/#same-video-on-all-monitors","title":"Same Video on All Monitors","text":"<pre><code>gslapper -o \"loop\" '*' /path/to/video.mp4\n</code></pre>"},{"location":"user-guide/video-wallpapers/#different-videos-per-monitor","title":"Different Videos per Monitor","text":"<pre><code>gslapper -o \"loop\" DP-1 /path/to/video1.mp4 &amp;\ngslapper -o \"loop\" DP-3 /path/to/video2.mp4 &amp;\n</code></pre>"},{"location":"user-guide/video-wallpapers/#audio","title":"Audio","text":"<p>By default, audio is enabled. To disable:</p> <pre><code>gslapper -o \"loop no-audio\" DP-1 /path/to/video.mp4\n</code></pre>"},{"location":"user-guide/video-wallpapers/#background-mode","title":"Background Mode","text":"<p>Run in the background:</p> <pre><code>gslapper -f -o \"loop\" DP-1 /path/to/video.mp4\n</code></pre>"},{"location":"user-guide/video-wallpapers/#supported-formats","title":"Supported Formats","text":"<ul> <li>MP4 (H.264, H.265)</li> <li>MKV</li> <li>WebM</li> <li>AVI</li> <li>MOV</li> <li>Any format supported by GStreamer</li> </ul> <p>Codec Support</p> <p>Ensure you have <code>gst-plugins-ugly</code> and <code>gst-libav</code> installed for H.264/H.265 support.</p>"}]}